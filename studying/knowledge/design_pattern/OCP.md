# Open-Closed Principle (開放-封閉原則)

---

## 開放-封閉原則的介紹、解釋及優點

---

`一個軟體製品應該對於擴展是開放的，但對於修改是封閉的`

簡單來說，我們可以擴展軟體，但不可以修改軟體。

對於如何了解 OCP ，"Clean Architecture" 提出一個構想實驗，是一個對財務報告系統的探討，若有利益相關者要求把財務報告列印成黑白、正確分頁、並帶有頁首、頁腳和行標籤、負數應該要用括號括起來的書面報告，我們需要對原系統的舊的程式碼做出多少修改？

- 首先，我們先依據 SRP 劃出數據流視圖，雖然這邊我看起來覺得該說是責任關係圖。
- 接著我們根據不同目的、原則可以畫出下面的元件、及其內部詳細類別的圖。

- 此處的重點有一：若我們要保護"元件 A "免於被"元件 B" 的改變而改變，那麼"元件 B" 必須依賴於"元件 A" 。
- 上圖中，Interactor 是最符合 OCP 的。
- 為什麼 Interactor 要有這樣的特權地位？因為它包含了『業務規則』。
- 為什麼存在 "" 介面？這是為了反向『』之間的依賴關係，此為**控制方向**。
- 為什麼存在 "" 介面？這是為了保護『』不對『』內的『』產生遞移的依賴。
- 遞移依賴會造成...
- 優點？
  - 我們幾乎可以在無損高層元件的情況下，把低層級的元件替換、修改及新增。